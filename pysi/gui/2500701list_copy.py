# **** related code ****
                        psi4supply = allocation_result_to_psi4supply(allocation_result)

                        print(f"Allocation completed for {node_name}")
                        print( "allocated psi4supply", psi4supply )

                        # deepcopy的にコピー
                        for w in range(1, self.plan_range + 1):
                            if w < len(psi4supply) and len(psi4supply[w][3])>0:
                                dad_node.psi4supply[w][3] = list(psi4supply[w][3])  # deepcopy的にコピー


                        #@250701 STOP shallow copy
                        #for w in range(1, self.plan_range + 1):
                        #
                        #    # lots list 追加
                        #    dad_node.psi4supply[w][3].extend(psi4supply[w][3])
                        #
                        #    #dad_node.psi4supply[w][3] = psi4supply[w][3]

                        #@250701 STOP
                        #for w in range(1, self.plan_range + 1):
                        #    dad_node.psi4supply[w][3] = psi4supply[w][3] if w in psi4supply else []

                        print( "allocated dad_node.psi4supply", dad_node.psi4supply )

# **** execution log ****
allocated psi4supply [[[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], ['CS_JPN2026010001', 'CS_JPN2026370003']], [[], [], [], ['CS_JPN2026010002', 'CS_JPN2026380001']], [[], [], [], ['CS_JPN2026020001', 'CS_JPN2026380002']], [[], [], [], ['CS_JPN2026020002', 'CS_JPN2026380003']], [[], [], [], ['CS_JPN2026020003', 'CS_JPN2026030001', 'CS_JPN2026390001', 'CS_JPN2026390002']], [[], [], [], ['CS_JPN2026030002', 'CS_JPN2026030003', 'CS_JPN2026390003', 'CS_JPN2026400001']], [[], [], [], ['CS_JPN2026040001', 'CS_JPN2026040002', 'CS_JPN2026400002', 'CS_JPN2026400003']], [[], [], [], ['CS_JPN2026040003', 'CS_JPN2026050001', 'CS_JPN2026410001', 'CS_JPN2026410002']], [[], [], [], ['CS_JPN2026050002', 'CS_JPN2026050003', 'CS_JPN2026410003', 'CS_JPN2026420001']], [[], [], [], ['CS_JPN2026060001', 'CS_JPN2026060002', 'CS_JPN2026060003', 'CS_JPN2026420002', 'CS_JPN2026420003', 'CS_JPN2026430001']], [[], [], [], ['CS_JPN2026070001', 'CS_JPN2026070002', 'CS_JPN2026070003', 'CS_JPN2026430002', 'CS_JPN2026430003', 'CS_JPN2026440001']], [[], [], [], ['CS_JPN2026080001', 'CS_JPN2026080002', 'CS_JPN2026080003', 'CS_JPN2026440002', 'CS_JPN2026440003', 'CS_JPN2026450001']], [[], [], [], ['CS_JPN2026090001', 'CS_JPN2026090002', 'CS_JPN2026090003', 'CS_JPN2026450002', 'CS_JPN2026450003', 'CS_JPN2026460001']], [[], [], [], ['CS_JPN2026100001', 'CS_JPN2026100002', 'CS_JPN2026100003', 'CS_JPN2026110001', 'CS_JPN2026460002', 'CS_JPN2026460003', 'CS_JPN2026470001', 'CS_JPN2026470002']], [[], [], [], ['CS_JPN2026110002', 'CS_JPN2026110003', 'CS_JPN2026120001', 'CS_JPN2026120002', 'CS_JPN2026470003', 'CS_JPN2026480001', 'CS_JPN2026480002', 'CS_JPN2026480003']], [[], [], [], ['CS_JPN2026120003', 'CS_JPN2026130001', 'CS_JPN2026130002', 'CS_JPN2026130003', 'CS_JPN2026490001', 'CS_JPN2026490002', 'CS_JPN2026490003', 'CS_JPN2026500001']], [[], [], [], ['CS_JPN2026140001', 'CS_JPN2026140002', 'CS_JPN2026140003', 'CS_JPN2026150001', 'CS_JPN2026500002', 'CS_JPN2026500003', 'CS_JPN2026510001', 'CS_JPN2026510002']], [[], [], [], ['CS_JPN2026150002', 'CS_JPN2026150003', 'CS_JPN2026160001', 'CS_JPN2026160002', 'CS_JPN2026160003', 'CS_JPN2026510003', 'CS_JPN2026520001', 'CS_JPN2026520002', 'CS_JPN2026520003', 'CS_JPN2026530001']], [[], [], [], ['CS_JPN2026170001', 'CS_JPN2026170002', 'CS_JPN2026170003', 'CS_JPN2026180001', 'CS_JPN2026180002', 'CS_JPN2026530002']], [[], [], [], ['CS_JPN2026180003', 'CS_JPN2026190001', 'CS_JPN2026190002', 'CS_JPN2026190003', 'CS_JPN2026200001']], [[], [], [], ['CS_JPN2026200002', 'CS_JPN2026200003', 'CS_JPN2026210001', 'CS_JPN2026210002', 'CS_JPN2026210003']], [[], [], [], ['CS_JPN2026220001', 'CS_JPN2026220002', 'CS_JPN2026220003', 'CS_JPN2026230001', 'CS_JPN2026230002']], [[], [], [], ['CS_JPN2026230003', 'CS_JPN2026240001', 'CS_JPN2026240002', 'CS_JPN2026240003']], [[], [], [], ['CS_JPN2026250001', 'CS_JPN2026250002', 'CS_JPN2026250003', 'CS_JPN2026260001']], [[], [], [], ['CS_JPN2026260002', 'CS_JPN2026260003', 'CS_JPN2026270001', 'CS_JPN2026270002']], [[], [], [], ['CS_JPN2026270003', 'CS_JPN2026280001', 'CS_JPN2026280002', 'CS_JPN2026280003']], [[], [], [], ['CS_JPN2026290001', 'CS_JPN2026290002', 'CS_JPN2026290003']], [[], [], [], ['CS_JPN2026300001', 'CS_JPN2026300002', 'CS_JPN2026300003']], [[], [], [], ['CS_JPN2026310001', 'CS_JPN2026310002', 'CS_JPN2026310003']], [[], [], [], ['CS_JPN2026320001', 'CS_JPN2026320002', 'CS_JPN2026320003']], [[], [], [], ['CS_JPN2026330001', 'CS_JPN2026330002', 'CS_JPN2026330003']], [[], [], [], ['CS_JPN2026340001', 'CS_JPN2026340002']], [[], [], [], ['CS_JPN2026340003', 'CS_JPN2026350001']], [[], [], [], ['CS_JPN2026350002', 'CS_JPN2026350003']], [[], [], [], ['CS_JPN2026360001']], [[], [], [], ['CS_JPN2026360002']], [[], [], [], ['CS_JPN2026360003']], [[], [], [], ['CS_JPN2026370001']], [[], [], [], ['CS_JPN2026370002']]]
allocated dad_node.psi4supply [[[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [['CS_JPN2026010001', 'CS_JPN2026010002'], [], [], []], [['CS_JPN2026020001', 'CS_JPN2026020002', 'CS_JPN2026020003'], [], [], []], [['CS_JPN2026030001', 'CS_JPN2026030002', 'CS_JPN2026030003'], [], [], []], [['CS_JPN2026040001', 'CS_JPN2026040002', 'CS_JPN2026040003'], [], [], []], [['CS_JPN2026050001', 'CS_JPN2026050002', 'CS_JPN2026050003'], [], [], []], [['CS_JPN2026060001', 'CS_JPN2026060002', 'CS_JPN2026060003'], [], [], []], [['CS_JPN2026070001', 'CS_JPN2026070002', 'CS_JPN2026070003'], [], [], []], [['CS_JPN2026080001', 'CS_JPN2026080002', 'CS_JPN2026080003'], [], [], []], [['CS_JPN2026090001', 'CS_JPN2026090002', 'CS_JPN2026090003'], [], [], []], [['CS_JPN2026100001', 'CS_JPN2026100002', 'CS_JPN2026100003'], [], [], []], [['CS_JPN2026110001', 'CS_JPN2026110002', 'CS_JPN2026110003'], [], [], []], [['CS_JPN2026120001', 'CS_JPN2026120002', 'CS_JPN2026120003'], [], [], []], [['CS_JPN2026130001', 'CS_JPN2026130002', 'CS_JPN2026130003'], [], [], []], [['CS_JPN2026140001', 'CS_JPN2026140002', 'CS_JPN2026140003'], [], [], []], [['CS_JPN2026150001', 'CS_JPN2026150002', 'CS_JPN2026150003'], [], [], []], [['CS_JPN2026160001', 'CS_JPN2026160002', 'CS_JPN2026160003'], [], [], []], [['CS_JPN2026170001', 'CS_JPN2026170002', 'CS_JPN2026170003'], [], [], []], [['CS_JPN2026180001', 'CS_JPN2026180002', 'CS_JPN2026180003'], [], [], []], [['CS_JPN2026190001', 'CS_JPN2026190002', 'CS_JPN2026190003'], [], [], []], [['CS_JPN2026200001', 'CS_JPN2026200002', 'CS_JPN2026200003'], [], [], []], [['CS_JPN2026210001', 'CS_JPN2026210002', 'CS_JPN2026210003'], [], [], []], [['CS_JPN2026220001', 'CS_JPN2026220002', 'CS_JPN2026220003'], [], [], []], [['CS_JPN2026230001', 'CS_JPN2026230002', 'CS_JPN2026230003'], [], [], []], [['CS_JPN2026240001', 'CS_JPN2026240002', 'CS_JPN2026240003'], [], [], []], [['CS_JPN2026250001', 'CS_JPN2026250002', 'CS_JPN2026250003'], [], [], []], [['CS_JPN2026260001', 'CS_JPN2026260002', 'CS_JPN2026260003'], [], [], []], [['CS_JPN2026270001', 'CS_JPN2026270002', 'CS_JPN2026270003'], [], [], []], [['CS_JPN2026280001', 'CS_JPN2026280002', 'CS_JPN2026280003'], [], [], []], [['CS_JPN2026290001', 'CS_JPN2026290002', 'CS_JPN2026290003'], [], [], []], [['CS_JPN2026300001', 'CS_JPN2026300002', 'CS_JPN2026300003'], [], [], []], [['CS_JPN2026310001', 'CS_JPN2026310002', 'CS_JPN2026310003'], [], [], []], [['CS_JPN2026320001', 'CS_JPN2026320002', 'CS_JPN2026320003'], [], [], []], [['CS_JPN2026330001', 'CS_JPN2026330002', 'CS_JPN2026330003'], [], [], []], [['CS_JPN2026340001', 'CS_JPN2026340002', 'CS_JPN2026340003'], [], [], []], [['CS_JPN2026350001', 'CS_JPN2026350002', 'CS_JPN2026350003'], [], [], []], [['CS_JPN2026360001', 'CS_JPN2026360002', 'CS_JPN2026360003'], [], [], []], [['CS_JPN2026370001', 'CS_JPN2026370002', 'CS_JPN2026370003'], [], [], []], [['CS_JPN2026380001', 'CS_JPN2026380002', 'CS_JPN2026380003'], [], [], []], [['CS_JPN2026390001', 'CS_JPN2026390002', 'CS_JPN2026390003'], [], [], []], [['CS_JPN2026400001', 'CS_JPN2026400002', 'CS_JPN2026400003'], [], [], []], [['CS_JPN2026410001', 'CS_JPN2026410002', 'CS_JPN2026410003'], [], [], []], [['CS_JPN2026420001', 'CS_JPN2026420002', 'CS_JPN2026420003'], [], [], []], [['CS_JPN2026430001', 'CS_JPN2026430002', 'CS_JPN2026430003'], [], [], []], [['CS_JPN2026440001', 'CS_JPN2026440002', 'CS_JPN2026440003'], [], [], []], [['CS_JPN2026450001', 'CS_JPN2026450002', 'CS_JPN2026450003'], [], [], []], [['CS_JPN2026460001', 'CS_JPN2026460002', 'CS_JPN2026460003'], [], [], []], [['CS_JPN2026470001', 'CS_JPN2026470002', 'CS_JPN2026470003'], [], [], []], [['CS_JPN2026480001', 'CS_JPN2026480002', 'CS_JPN2026480003'], [], [], []], [['CS_JPN2026490001', 'CS_JPN2026490002', 'CS_JPN2026490003'], [], [], []], [['CS_JPN2026500001', 'CS_JPN2026500002', 'CS_JPN2026500003'], [], [], []], [['CS_JPN2026510001', 'CS_JPN2026510002', 'CS_JPN2026510003'], [], [], []], [['CS_JPN2026520001', 'CS_JPN2026520002', 'CS_JPN2026520003'], [], [], []], [['CS_JPN2026530001', 'CS_JPN2026530002'], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []], [[], [], [], []]]


